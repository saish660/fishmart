<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Store Details - Amcho Pasro</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='store.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='location-picker.css') }}"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <div class="navbar-brand">
          <a href="{{ url_for('index') }}" class="brand-link">Amcho Pasro</a>
        </div>
      </div>
    </nav>
    <div
      class="modal-overlay"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.45);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      "
    >
      <div
        class="modal-form"
        style="
          background: #fff;
          padding: 2.5rem 2rem 2rem 2rem;
          border-radius: 18px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
          max-width: 420px;
          width: 100%;
          position: relative;
        "
      >
        <button
          onclick="window.location.href='{{ url_for('my_store') }}'"
          style="
            position: absolute;
            top: 18px;
            right: 18px;
            background: none;
            border: none;
            font-size: 1.8rem;
            line-height: 1;
            color: #475569;
            cursor: pointer;
          "
        >
          &times;
        </button>
        <h2 style="margin-bottom: 1.2rem; text-align: center">
          Edit Store Details
        </h2>
        <form method="POST" enctype="multipart/form-data">
          <div class="form-group" style="margin-bottom: 1rem">
            <label for="store_name">Store Name:</label>
            <input
              type="text"
              id="store_name"
              name="store_name"
              value="{{ user.store_name }}"
              required
              style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
            />
          </div>
          <div class="form-group" style="margin-bottom: 1rem">
            <label for="store_location">Location:</label>
            <input
              type="text"
              id="store_location"
              name="store_location"
              value="{{ user.store_location }}"
              required
              style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
            />
          </div>
          <div class="form-group" style="margin-bottom: 1rem">
            <label for="store_city">City:</label>
            <input
              type="text"
              id="store_city"
              name="store_city"
              value="{{ user.store_city }}"
              required
              style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
            />
          </div>
          <div class="form-group" style="margin-bottom: 1rem">
            <label for="address">Full Address (optional):</label>
            <input
              type="text"
              id="address"
              name="address"
              value="{{ user.store_address }}"
              style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
            />
          </div>
          <div
            class="form-row"
            style="display: flex; gap: 1rem; margin-bottom: 1rem"
          >
            <div style="flex: 1">
              <label for="latitude">Latitude:</label>
              <input
                type="text"
                id="latitude"
                name="latitude"
                value="{{ user.store_latitude }}"
                style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
              />
            </div>
            <div style="flex: 1">
              <label for="longitude">Longitude:</label>
              <input
                type="text"
                id="longitude"
                name="longitude"
                value="{{ user.store_longitude }}"
                style="width: 100%; padding: 0.5rem; margin-top: 0.3rem"
              />
            </div>
          </div>
          <div class="form-group" style="margin-bottom: 1.2rem">
            <label for="store_image">Store Image:</label><br />
            {% if user.store_image %}
            <img
              src="{{ url_for('static', filename='uploads/' ~ user.store_image) }}"
              alt="Current Store Image"
              style="
                max-width: 80px;
                max-height: 80px;
                border-radius: 50%;
                object-fit: cover;
                margin-bottom: 0.5rem;
              "
            />
            {% endif %}
            <input
              type="file"
              id="store_image"
              name="store_image"
              accept="image/*"
              style="margin-top: 0.3rem"
            />
          </div>
          <button
            type="submit"
            class="btn-submit"
            style="
              width: 100%;
              padding: 0.7rem 0;
              font-size: 1.1rem;
              background: #2563eb;
              color: #fff;
              border: none;
              border-radius: 6px;
              cursor: pointer;
            "
          >
            Save Changes
          </button>
        </form>
      </div>
    </div>
  </body>
</html>
