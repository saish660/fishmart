<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Store Details - Amcho Pasro</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='store.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='location-picker.css') }}"
    />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <div class="navbar-brand">
          <a href="{{ url_for('index') }}" class="brand-link">Amcho Pasro</a>
        </div>
      </div>
    </nav>

    <main class="page-wrapper">
      <section class="page-hero auth-hero">
        <div class="page-hero__inner auth-hero__inner">
          <div class="auth-hero__copy">
            <span class="page-hero__eyebrow">Store profile</span>
            <h1 class="page-hero__title">Refresh your storefront details</h1>
            <p class="auth-hero__subtitle">
              Keep your location and branding up to date so customers can reach
              you effortlessly and recognise your stall on the map.
            </p>
            <ul class="auth-hero__list">
              <li>Update your contact location and city in one place</li>
              <li>Swap your display image to showcase your latest look</li>
              <li>Fine-tune coordinates for precise map directions</li>
            </ul>
          </div>

          <div class="auth-card auth-card--stacked">
            <div class="auth-card__header">
              <h2 class="auth-card__title">Edit store details</h2>
              <p class="auth-card__subtitle">
                Update your information below and save when you are done.
              </p>
            </div>

            <form class="auth-form" method="POST" enctype="multipart/form-data">
              <div class="form-section">
                <h3 class="section-title">Storefront basics</h3>
                <div class="form-group">
                  <label for="store_name">Store name</label>
                  <input
                    type="text"
                    id="store_name"
                    name="store_name"
                    value="{{ user.store_name }}"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="store_location">Neighbourhood / address</label>
                  <input
                    type="text"
                    id="store_location"
                    name="store_location"
                    value="{{ user.store_location }}"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="store_city">City</label>
                  <input
                    type="text"
                    id="store_city"
                    name="store_city"
                    value="{{ user.store_city }}"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="address">Full address (optional)</label>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    value="{{ user.store_address }}"
                  />
                </div>
              </div>

              <div class="form-section">
                <h3 class="section-title">Map coordinates</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label for="latitude">Latitude</label>
                    <input
                      type="text"
                      id="latitude"
                      name="latitude"
                      value="{{ user.store_latitude }}"
                    />
                  </div>
                  <div class="form-group">
                    <label for="longitude">Longitude</label>
                    <input
                      type="text"
                      id="longitude"
                      name="longitude"
                      value="{{ user.store_longitude }}"
                    />
                  </div>
                </div>
                <small
                  >Copy coordinates from the store map if you recently
                  repositioned your marker.</small
                >
              </div>

              <div class="form-section">
                <h3 class="section-title">Store image</h3>
                {% if user.store_image %}
                <div class="form-group">
                  <label>Current image</label>
                  <div
                    class="store-image-thumb"
                    style="width: 86px; height: 86px"
                  >
                    <img
                      src="{{ url_for('static', filename='uploads/' ~ user.store_image) }}"
                      alt="Current store image"
                    />
                  </div>
                </div>
                {% endif %}
                <div class="form-group">
                  <label for="store_image">Upload a new image</label>
                  <input
                    type="file"
                    id="store_image"
                    name="store_image"
                    accept="image/*"
                  />
                  <small>Square JPG or PNG works best. Max size 5MB.</small>
                </div>
              </div>

              <div class="form-actions-row form-actions-row--end">
                <a href="{{ url_for('my_store') }}" class="btn-ghost">Cancel</a>
                <button type="submit" class="auth-button">Save changes</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
